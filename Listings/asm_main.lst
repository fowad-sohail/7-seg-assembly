


ARM Macro Assembler    Page 1 


    1 00000000         ;Fowad Sohail and Tim Catrino
    2 00000000         ;Intro to Embedded Final Project
    3 00000000         ;7 Seg Display Counter
    4 00000000         
    5 00000000         ; Port 1 Pin Direction Register
    6 00000000 40004C04 
                       P1DIR   EQU              0x40004C04
    7 00000000         ; Port 1 Pin Output Register
    8 00000000 40004C02 
                       P1OUT   EQU              0x40004C02
    9 00000000 40004C00 
                       P1IN    EQU              0x40004C00
   10 00000000 40004C06 
                       P1REN   EQU              0x40004C06
   11 00000000         
   12 00000000 40004C07 
                       P2REN   EQU              0x40004C07  ; resistor enable
   13 00000000 40004C05 
                       P2DIR   EQU              0x40004C05
   14 00000000 40004C03 
                       P2OUT   EQU              0x40004C03
   15 00000000 40004C01 
                       P2IN    EQU              0x40004C01
   16 00000000         
   17 00000000 00000010 
                       YELLOWmask
                               EQU              0x10        ; bitmask P2.4
   18 00000000         
   19 00000000 00000002 
                       TSTmask EQU              0x2         ; bitmask P1.1
   20 00000000 00000010 
                       ACKmask EQU              0x10        ; bitmask P1.4
   21 00000000 00000040 
                       FLAmask EQU              0x40        ; bitmask P2.6
   22 00000000 00000080 
                       OLAmask EQU              0x80        ; bitmask P2.7
   23 00000000         
   24 00000000         
   25 00000000         
   26 00000000                 THUMB
   27 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   28 00000000                 EXPORT           asm_main
   29 00000000         
   30 00000000         asm_main
   31 00000000 4814            LDR              R0, =P2DIR
   32 00000002 7801            LDRB             R1, [R0]
   33 00000004 F041 01FF       ORR              R1, #255
   34 00000008 7001            STRB             R1, [R0]
   35 0000000A         
   36 0000000A 4813            LDR              R0, =P1DIR
   37 0000000C 7801            LDRB             R1, [R0]
   38 0000000E F041 01FF       ORR              R1, #255
   39 00000012 7001            STRB             R1, [R0]
   40 00000014         
   41 00000014 4811            LDR              R0, =P2REN  ; load Dir Reg in R
                                                            1
   42 00000016 7801            LDRB             R1, [R0]    ;
   43 00000018 F041 0140       ORR              R1, FLAmask ; set bit



ARM Macro Assembler    Page 2 


   44 0000001C 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   45 0000001E         
   46 0000001E 4810            LDR              R0, =P2OUT  ; load Dir Reg in R
                                                            1
   47 00000020 7801            LDRB             R1, [R0]    ;
   48 00000022 F041 0140       ORR              R1, FLAmask ; set bit
   49 00000026 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   50 00000028         
   51 00000028         loop
   52 00000028         ; start in state b
   53 00000028 F000 F801       BL               state0
   54 0000002C         
   55 0000002C E7FC            B                loop        ; repeat the loop
   56 0000002E         
   57 0000002E         ; STATES
   58 0000002E         ;-------------------------------------------------------
                       ------------------------
   59 0000002E         state0
   60 0000002E F000 F80A       BL               yellowON
   61 00000032         
   62 00000032 E7FC            B                state0
   63 00000034         
   64 00000034         
   65 00000034         
   66 00000034         
   67 00000034         
   68 00000034         
   69 00000034         ; ------------------------------------------------------
                       ------------------------
   70 00000034         
   71 00000034         ; SUBROUTINES
   72 00000034         ; ------------------------------------------------------
                       ------------------------
   73 00000034         delayMs
   74 00000034         
   75 00000034 3801    L1      SUBS             R0, #1      ; inner loop
   76 00000036 D1FD            BNE              L1
   77 00000038 4770            BX               LR
   78 0000003A         
   79 0000003A         greenON
   80 0000003A 4809            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   81 0000003C 7801            LDRB             R1, [R0]
   82 0000003E F041 0102       ORR              R1, #2      ; set bit 0
   83 00000042 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   84 00000044 4770            BX               LR
   85 00000046         
   86 00000046         
   87 00000046         yellowON                             ; P2.4
   88 00000046 4806            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   89 00000048 7801            LDRB             R1, [R0]
   90 0000004A F041 0110       ORR              R1, YELLOWmask
   91 0000004E 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   92 00000050 4770            BX               LR



ARM Macro Assembler    Page 3 


   93 00000052         
   94 00000052         zeroON
   95 00000052         
   96 00000052         
   97 00000052                 END
              00 00 40004C05 
              40004C04 
              40004C07 
              40004C03 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\asm_main.d -o.\objects\asm_main.o -I.\RTE\_Target_1 -
IE:\Users\Fowad\AppData\Local\Arm\Packs\ARM\CMSIS\5.5.1\CMSIS\Core\Include -IE:
\Users\Fowad\AppData\Local\Arm\Packs\TexasInstruments\MSP432P4xx_DFP\3.2.6\Devi
ce\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 528"
 --predefine="_RTE_ SETA 1" --predefine="__MSP432P401R__ SETA 1" --list=.\listi
ngs\asm_main.lst asm_main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 27 in file asm_main.s
   Uses
      None
Comment: .text unused
L1 00000034

Symbol: L1
   Definitions
      At line 75 in file asm_main.s
   Uses
      At line 76 in file asm_main.s
Comment: L1 used once
asm_main 00000000

Symbol: asm_main
   Definitions
      At line 30 in file asm_main.s
   Uses
      At line 28 in file asm_main.s
Comment: asm_main used once
delayMs 00000034

Symbol: delayMs
   Definitions
      At line 73 in file asm_main.s
   Uses
      None
Comment: delayMs unused
greenON 0000003A

Symbol: greenON
   Definitions
      At line 79 in file asm_main.s
   Uses
      None
Comment: greenON unused
loop 00000028

Symbol: loop
   Definitions
      At line 51 in file asm_main.s
   Uses
      At line 55 in file asm_main.s
Comment: loop used once
state0 0000002E

Symbol: state0
   Definitions
      At line 59 in file asm_main.s
   Uses
      At line 53 in file asm_main.s
      At line 62 in file asm_main.s

yellowON 00000046




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: yellowON
   Definitions
      At line 87 in file asm_main.s
   Uses
      At line 60 in file asm_main.s
Comment: yellowON used once
zeroON 00000052

Symbol: zeroON
   Definitions
      At line 94 in file asm_main.s
   Uses
      None
Comment: zeroON unused
9 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ACKmask 00000010

Symbol: ACKmask
   Definitions
      At line 20 in file asm_main.s
   Uses
      None
Comment: ACKmask unused
FLAmask 00000040

Symbol: FLAmask
   Definitions
      At line 21 in file asm_main.s
   Uses
      At line 43 in file asm_main.s
      At line 48 in file asm_main.s

OLAmask 00000080

Symbol: OLAmask
   Definitions
      At line 22 in file asm_main.s
   Uses
      None
Comment: OLAmask unused
P1DIR 40004C04

Symbol: P1DIR
   Definitions
      At line 6 in file asm_main.s
   Uses
      At line 36 in file asm_main.s
Comment: P1DIR used once
P1IN 40004C00

Symbol: P1IN
   Definitions
      At line 9 in file asm_main.s
   Uses
      None
Comment: P1IN unused
P1OUT 40004C02

Symbol: P1OUT
   Definitions
      At line 8 in file asm_main.s
   Uses
      None
Comment: P1OUT unused
P1REN 40004C06

Symbol: P1REN
   Definitions
      At line 10 in file asm_main.s
   Uses
      None
Comment: P1REN unused
P2DIR 40004C05




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Symbol: P2DIR
   Definitions
      At line 13 in file asm_main.s
   Uses
      At line 31 in file asm_main.s
Comment: P2DIR used once
P2IN 40004C01

Symbol: P2IN
   Definitions
      At line 15 in file asm_main.s
   Uses
      None
Comment: P2IN unused
P2OUT 40004C03

Symbol: P2OUT
   Definitions
      At line 14 in file asm_main.s
   Uses
      At line 46 in file asm_main.s
      At line 80 in file asm_main.s
      At line 88 in file asm_main.s

P2REN 40004C07

Symbol: P2REN
   Definitions
      At line 12 in file asm_main.s
   Uses
      At line 41 in file asm_main.s
Comment: P2REN used once
TSTmask 00000002

Symbol: TSTmask
   Definitions
      At line 19 in file asm_main.s
   Uses
      None
Comment: TSTmask unused
YELLOWmask 00000010

Symbol: YELLOWmask
   Definitions
      At line 17 in file asm_main.s
   Uses
      At line 90 in file asm_main.s
Comment: YELLOWmask used once
13 symbols
359 symbols in table
